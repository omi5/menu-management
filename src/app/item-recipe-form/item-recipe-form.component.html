
 <!-- <form nz-form *nzDrawerContent (ngSubmit)="createItem()"> -->
      <div class="border-div" >
        <!-- for Uploading Image -->
        <div style=" margin-bottom: 20px; width: 400px; margin: 0 auto; margin-bottom: 10px;">
            <!-- <nz-upload
            
            nzType="drag"
            [nzMultiple]="true"
            nzAction="https://api.cloudinary.com/v1_1/dkfnaltqp/image/upload"
            (nzChange)="selectFile($event)"
          >
            <p class="ant-upload-drag-icon">
              <span nz-icon nzType="inbox"></span>
            </p>
            <p class="ant-upload-text">Click or drag file to this area to upload</p>
            <img style="padding-bottom: 1rem; width: 5rem; object-fit: cover; " src="uploadedImageUrl || '' " alt="">
           
            </nz-upload> -->

            <nz-upload
              nzType="drag"
              [nzMultiple]="true"
              nzAction="https://api.cloudinary.com/v1_1/dkfnaltqp/image/upload"
              (nzChange)="selectFile($event)"
            >
              <p class="ant-upload-drag-icon">
                <span nz-icon nzType="inbox"></span>
              </p>
              <p class="ant-upload-text">Click or drag file to this area to upload</p>
              <img style="padding-bottom: 1rem; width: 5rem; object-fit: cover;" [src]="uploadedImageUrl || ''" alt="">
            </nz-upload>
        </div>
        <!-- for Uploading Image -->

        <div nz-row [nzGutter]="8" class="mt" style="font-size: 25px; margin-top: 30px;">
          <div nz-col nzSpan="12">
            <nz-form-item>
              <label class="label" style="width: 180px;font-size: 20px;  text-align: left; ">Name :</label>
              <nz-form-control>
                <input nz-input placeholder="please enter item name" [(ngModel)]="itemName" style="font-size: 18px; height: 35px; width: 28rem;"/>
              </nz-form-control>
            </nz-form-item>
          </div>
          <div nz-col nzSpan="12">
            <nz-form-item>
              <label style="width: 180px; text-align: left;   font-size: 20px;">Tasty tags :</label>
              <nz-form-control>
                <!-- <nz-select nzPlaceHolder="Please select a Category" style="font-size: 20px;" [(ngModel)]="itemProfileTastyTags">
                  <nz-option *ngFor="let el of owner" [nzValue]="el" [nzLabel]="el"></nz-option>
                </nz-select> -->
                <nz-select
                
                  style="font-size: 20px; width: 28rem;"
                  [nzMaxTagCount]="3"
                  [nzMaxTagPlaceholder]="tagPlaceHolder"
                  nzMode="multiple"
                  nzPlaceHolder="Please select"
                  [(ngModel)]="listOfSelectedValueForTastyTags"
                >
                  <nz-option *ngFor="let item of listOfOptionForTastyTags" [nzLabel]="item" [nzValue]="item"></nz-option>
                </nz-select>
                <ng-template #tagPlaceHolder let-selectedList >and {{ selectedList.length }} more selected</ng-template>


              </nz-form-control>
            </nz-form-item>
          </div>
        </div>
        <div nz-row [nzGutter]="8">
          <div nz-col nzSpan="12">
            <nz-form-item>
              <label style="width: 180px;  text-align: left;  font-size: 20px;">Category :</label>
              <nz-form-control >
                <nz-select style="font-size: 20px; height: 28px; width: 28rem;" nzPlaceHolder="Please select a Category"  [(ngModel)]="categoryId">
                  <nz-option *ngFor="let el of categories" [nzValue]="el._id" [nzLabel]="el.categoryName" ></nz-option>
                </nz-select>
              </nz-form-control>
            </nz-form-item>
          </div>

          <div nz-col nzSpan="12">
            <nz-form-item>
              <label style="width: 180px;  text-align: left;  font-size: 20px;">How to delivery :</label>
              <nz-form-control>
                
                <nz-select
                  style="font-size: 20px; width: 28rem;"
                  [nzMaxTagCount]="3"
                  [nzMaxTagPlaceholder]="tagPlaceHolder"
                  nzMode="multiple"
                  nzPlaceHolder="Please select"
                  [(ngModel)]="listOfSeletedValueForTypeOfFood"
                >
                  <nz-option *ngFor="let item of listOfOptionForTypeOfFood" [nzLabel]="item" [nzValue]="item"></nz-option>
                </nz-select>
                <ng-template #tagPlaceHolder let-selectedList >and {{ selectedList.length }} more selected</ng-template>


              </nz-form-control>
            </nz-form-item>
          </div>
        
        </div>
      

        <div nz-row [nzGutter]="8">
         
          <div nz-col nzSpan="12">
            <nz-form-item>
              <label style="width: 180px; text-align: left; font-size: 20px;">Portion size :</label>
              <nz-form-control>
                <nz-select nzPlaceHolder="Please select a Category" style="font-size: 20px; width: 28rem; height: 38px; " [(ngModel)]="itemPortionsize">
                  <nz-option *ngFor="let el of portionSizes" [nzValue]="el" [nzLabel]="el" ></nz-option>
                </nz-select>
              </nz-form-control>
            </nz-form-item>
          </div>
          <div nz-col nzSpan="12">
            <nz-form-item>
              <label  style="width: 180px; text-align: left;  font-size: 20px;">Preparation Time :</label>
              <nz-form-control>
                <input nz-input placeholder="please enter preparation time" style="font-size: 20px; height: 35px; width: 28rem;" [(ngModel)]="itemPreparationtime"/>
              </nz-form-control>
            </nz-form-item>
          </div>
        </div>
        <div nz-row [nzGutter]="8">
          <div nz-col nzSpan="12">
            <nz-form-item>
              <label  style="width: 180px; text-align: left;  font-size: 20px;">Serving temp :</label>
              <nz-form-control>
                <input nz-input placeholder="please enter serving temp" style="font-size: 20px; height: 35px; width: 28rem" [(ngModel)]="servingTemperature" />
              </nz-form-control>
            </nz-form-item>
          </div>
          <div nz-col nzSpan="12">
            <nz-form-item>
              <label  style="width: 180px; text-align: left;  font-size: 20px;">Lasting time :</label>
              <nz-form-control>
                <input nz-input placeholder="please enter lasting time"  style="font-size: 20px; height: 35px; width: 28rem;" [(ngModel)]="itemLastingTime"/>
              </nz-form-control>
            </nz-form-item>
          </div>
        </div>

        <div nz-row [nzGutter]="8">
          <div nz-col nzSpan="12">
            <nz-form-item>
              <label  style="width: 180px;text-align: left;   font-size: 20px;">Price :</label>
              <nz-form-control>
                <input nz-input placeholder="please enter the price" style="font-size: 20px; height: 35px; width: 28rem;" [(ngModel)]="itemPrice" />
              </nz-form-control>
            </nz-form-item>
          </div>
          <div nz-col nzSpan="12">
            <nz-form-item>
              <label  style="width: 180px; text-align: left;  font-size: 20px;">Total calories :</label>
              <nz-form-control>
                <input nz-input placeholder="please enter the calories" style="font-size: 20px; height: 35px; width: 28rem;" [(ngModel)]="itemCalories"/>
              </nz-form-control>
            </nz-form-item>
          </div>
        </div>

        <div nz-row [nzGutter]="8">
          <div nz-col nzSpan="12">
            <nz-form-item>
              <label style="width: 180px; text-align: left;   font-size: 20px;">Allergens :</label>
              <nz-form-control>
              

                <nz-select
                style="font-size: 20px; height: 35px; width: 28rem;"
                  [nzMaxTagCount]="3"
                  [nzMaxTagPlaceholder]="tagPlaceHolder"
                  nzMode="multiple"
                  nzPlaceHolder="Please select"
                  [(ngModel)]="listOfSelectedValue"
                >
                  <nz-option *ngFor="let item of listOfOption" [nzLabel]="item" [nzValue]="item"></nz-option>
                </nz-select>
                <ng-template #tagPlaceHolder let-selectedList>and {{ selectedList.length }} more selected</ng-template>
              </nz-form-control>
            </nz-form-item>
            
          </div>
          <div nz-col nzSpan="12">
            <nz-form-item>
              <label style="width: 180px;  text-align: left;  font-size: 20px;">Packing type :</label>
              <nz-form-control>
                <nz-select nzPlaceHolder="Please select a Category" style="font-size: 20px; height: 35px; width: 28rem;" [(ngModel)]="ItemHowToDelivery">
                  <nz-option *ngFor="let el of packingBox" [nzValue]="el.boxName" [nzLabel]="el.boxName" ></nz-option>
                </nz-select>
              </nz-form-control>
            </nz-form-item>
          </div>
          
        </div>

        <div nz-row [nzGutter]="8" class="mt" style="font-size: 25px;">
         
          <div nz-col nzSpan="12">
            <nz-form-item>
              <label style="width: 180px; text-align: left;   font-size: 20px;">Meal time :</label>
              <nz-form-control>
               
                <nz-select
                  style="font-size: 20px; height: 35px; width: 28rem;"
                  [nzMaxTagCount]="3"
                  [nzMaxTagPlaceholder]="tagPlaceHolder"
                  nzMode="multiple"
                  nzPlaceHolder="Please select"
                  [(ngModel)]="listOfSeletedValueForMealTime"
                >
                  <nz-option *ngFor="let item of listOfOptionForMealTime" [nzLabel]="item" [nzValue]="item"></nz-option>
                </nz-select>
                <ng-template #tagPlaceHolder let-selectedList>and {{ selectedList.length }} more selected</ng-template>


              </nz-form-control>
            </nz-form-item>
          </div>
        </div>


        <div nz-row [nzGutter]="8">
          <div nz-col nzSpan="24">
            <nz-form-item>
              <label  style="width: 180px; text-align: left;  font-size: 20px;">Description :</label>
              <nz-form-control>
                <textarea
                [(ngModel)]="itemDescription"
                  nz-input
                  placeholder="please enter  description"
                  [nzAutosize]="{ minRows: 4, maxRows: 4 }"
                  style="width: 1130px; font-size: 20px;"
                ></textarea>
              </nz-form-control>
            </nz-form-item>
          </div>
        </div>

        <hr style=" border-top: 2px solid #038851;">

        <h2 style="margin-bottom: 25px; font-size: 28px;">Ingredients and preparation instruction</h2>
        
          <!-- <app-add-ingredients-field #ingredients></app-add-ingredients-field> -->
          



<!-- For Ingredinet Form -->

        
<form [formGroup]="orderForm" (ngSubmit)="submitForm()" class="form-container">
   <div style="display: flex;">
  <div>
    <!-- Ingredient Batches -->
    <div formArrayName="ingredientBatches">
      <div *ngFor="let batch of ingredientBatchesArray.controls; let i = index" [formGroupName]="i" class="form-group">

        
<!--              
              <nz-select
                style="width:250px; color: rgb(190, 186, 186);  border-color: rgb(190, 186, 186); height: 35px; margin-left: 70px; font-size: 20px;"
                (change)="onIngredientChange(i)"
                [nzMaxTagCount]="3"
                [nzMaxTagPlaceholder]="tagPlaceHolder"
                nzMode="multiple"
                nzPlaceHolder="select ingredient"
                formControlName="ingredientName"
              >
                <nz-option *ngFor="let ingredient of ingredentList.ingredients" [nzLabel]="ingredient.ingredientName" [nzValue]="ingredient.ingredientName"></nz-option>
              </nz-select>
              <ng-template #tagPlaceHolder let-selectedList>and {{ selectedList.length }} more selected</ng-template> -->


        
        <select style="width:250px; color: rgb(190, 186, 186);  border-color: rgb(190, 186, 186); height: 35px; margin-left: 70px; font-size: 20px;" formControlName="ingredientName" (change)="onIngredientChange(i)">
          <option value="">select ingredient</option>
          <option *ngFor="let ingredient of ingredentList.ingredients" [value]="ingredient.ingredientName">{{ ingredient.ingredientName }}</option>
        </select>
  
        <input class="inputStyle" style="width:80px; height: 35px;color: rgb(190, 186, 186);  border:1px solid rgb(190, 186, 186); margin-left: 32px; margin-right: 6px; font-size: 20px;" type="text" placeholder="quntity" [value]="1" formControlName="quantity">
  
        <select style="width:130px; font-size: 20px; height: 35px; color: rgb(190, 186, 186);  border-color: rgb(190, 186, 186);" formControlName="unitOfStock"  nzPlaceHolder="Please select">
            <option value="">unit</option>
            <option *ngFor="let ingredient of measurementToolArray" [value]="ingredient">{{ ingredient }}</option>
          </select>
       
        
       
        <button style="margin-left: 8px;  border:none; cursor: pointer; background-color: #fff;" type="button" (click)="removeIngredientBatch(i)"><span style="font-size: 32px; padding-top: 20px; color:rgb(190, 186, 186);" nz-icon nzType="minus-circle" nzTheme="outline"></span></button>
      </div>
      <button type="button" (click)="addIngredientBatch()" style="background-color: #2ecc71;height: 35px; margin-top: 22px; margin-left: 70px; color: #fff; font-size: 20px; border:none; cursor: pointer;">Add Ingredient</button>
    </div>
  
    <!-- Delivery Box Batches -->
  
  
    <!-- Submit Button -->
    <!-- <button type="submit">Submit</button> -->
  </div>


    <div style="margin-left: 300px;">
      <h2 style="font-size: 28px; margin-left: 70px;">Material calculator</h2>
        <div style="margin-bottom: 8px;">
            <label for="" style="width: 180px; margin-right: 39px;color: black; font-size: 20px;">Cost per unit :</label>
            <input type="text" [value]="totalCostPerUnit" style="height: 35px; border:1px solid rgb(190, 186, 186);">
        </div>
        <div style="margin-bottom: 8px;">
            <label for="" style="width: 180px;  margin-right: 17px;color: black; font-size: 20px;">Calorie per unit :</label>
            <input type="text" [value]="totalCaloriesPerUnit" style="height: 35px; border:1px solid rgb(190, 186, 186);" >
        </div>
        <div style="margin-bottom: 8px;">
            <label for="" style="width: 180px;  margin-right: 42px;color: black; font-size: 20px;">Profit margin :</label>
            <input (input)="updateTotals()" type="text"  formControlName="percentage" style="height: 35px; border:1px solid rgb(190, 186, 186);">
        </div>
        <div>
            <label for="" style="width: 180px; margin-right: 70px;color: black; font-size: 20px; ">Total cost :</label>
            <input type="text" [value]="totalCost" style="height: 35px; border:1px solid rgb(190, 186, 186);">
        </div>
    </div>
  </div>

  </form>




<!-- For Ingredinet Form -->
<!-- For Recipe Form -->

<!-- <hr style=" border-top: 2px solid #038851;"> -->

<h2 style="margin-bottom: 25px; margin-top: 40px; font-size: 28px;">Add recipe</h2>

<form [formGroup]="orderFormForRecipe" (ngSubmit)="submitFormForRecipe()" class="form-container">
  <div style="display: flex;">
 <div>
   <!-- Ingredient Batches -->
   <div formArrayName="ingredientBatchesForRecipe">
     <div *ngFor="let batch of ingredientBatchesArrayForRecipe.controls; let i = index" [formGroupName]="i" class="form-group">
       
       <!-- <select style="width:250px; height: 32px; border-color: gray; margin-left: 70px;" formControlName="recipeName" (change)="onIngredientChangeForRecipe(i)">
         <option value="" style="color: gray;">select recipe</option>
         <option *ngFor="let recipe of recipeCollections" [value]="recipe.recipeName">{{ recipe.recipeName }}</option>
       </select> -->
       <select style="width:250px; color: rgb(190, 186, 186);  border-color: rgb(190, 186, 186); height: 35px; margin-left: 70px; font-size: 20px;" formControlName="recipeName" (change)="onIngredientChangeForRecipe(i)">
        <option value="" style="color: gray;">select recipe</option>
        <option *ngFor="let recipe of recipeCollections[0]" [value]="recipe.recipeName">{{ recipe.recipeName }}</option>
      </select>
 
       <input style="width:80px; height: 35px;color: rgb(190, 186, 186);  border:1px solid rgb(190, 186, 186); margin-left: 32px; margin-right: 6px; font-size: 20px;" type="text" placeholder="quntity" [value]="1" formControlName="quantityForRecipe">
 
       <select style="width:130px; font-size: 20px; height: 35px; color: rgb(190, 186, 186);  border-color: rgb(190, 186, 186);" formControlName="unitOfStockForRecipe"  nzPlaceHolder="Please select">
           <option value="">unit</option>
           <option *ngFor="let ingredient of measurementToolArray" [value]="ingredient">{{ ingredient }}</option>
         </select>
      
       
      
       <button style="margin-left: 8px; ; border:none; cursor: pointer; background-color: #fff;" type="button" (click)="removeIngredientBatchForRecipe(i)"><span style="font-size: 32px; padding-top: 20px; color:rgb(190, 186, 186);" nz-icon nzType="minus-circle" nzTheme="outline"></span></button>
     </div>
     <button type="button" (click)="addIngredientBatchForRecipe()" style="background-color: #2ecc71;height: 35px; margin-top: 22px; margin-left: 70px; color: #fff; font-size: 20px; border:none; cursor: pointer;">Add Ingredient</button>
   </div>
 
   <!-- Delivery Box Batches -->
 
 
   <!-- Submit Button -->
   <!-- <button type="submit">Submit</button> -->
 </div>


   <!-- <div style="margin-left: 300px;">
     <h2 style="font-size: 28px; margin-left: 70px;">Material calculator</h2>
       <div style="margin-bottom: 8px;">
           <label for="" style="width: 180px; margin-right: 39px;color: black; font-size: 18px;">cost Per Unit</label>
           <input type="text" [value]="totalCostPerUnitForRecipe" style="height: 32px;">
       </div>
       <div style="margin-bottom: 8px;">
           <label for="" style="width: 180px;  margin-right: 20px;color: black; font-size: 18px;">calorie Per Unit</label>
           <input type="text" [value]="totalCaloriesPerUnitForRecipe" style="height: 32px;" >
       </div>
       <div style="margin-bottom: 8px;">
           <label for="" style="width: 180px;  margin-right: 37px;color: black; font-size: 18px;">profit margin</label>
           <input (input)="updateTotalsForRecipe()" type="text"  formControlName="percentageForRecipe" style="height: 32px;">
       </div>
       <div>
           <label for="" style="width: 180px; margin-right: 68px;color: black; font-size: 18px;">total cost</label>
           <input type="text" [value]="totalCostForRecipe" style="height: 32px;">
       </div>
   </div> -->
 </div>

 </form>





<!-- For Recipe Form -->

<!-- add Options -->

<hr style=" border-top: 2px solid #038851; margin-top: 25px;">
<h2 style="margin-bottom: 25px; font-size: 28px;">Add Ons</h2>


<form [formGroup]="orderFormForAddOns" (ngSubmit)="submitFormForAddOns()" class="form-container">
  <div style="display: flex;">
 <div>
   <!-- Ingredient Batches -->
   <div formArrayName="ingredientBatchesForAddOns">
     <div *ngFor="let batch of ingredientBatchesArrayForAddOns.controls; let i = index" [formGroupName]="i" class="form-group">
       
       <select style="width:250px; color: rgb(190, 186, 186);  border-color: rgb(190, 186, 186); height: 35px; margin-left: 70px; font-size: 20px;" formControlName="ingredientName" (change)="onIngredientChangeForAddOns(i)">
         <option value="" style="color: gray;">select ingredient</option>
         <option *ngFor="let ingredient of ingredentList.ingredients" [value]="ingredient.ingredientName">{{ ingredient.ingredientName }}</option>
       </select>
 
       <input style="width:80px; height: 35px;color: rgb(190, 186, 186);  border:1px solid rgb(190, 186, 186); margin-left: 32px; margin-right: 6px; font-size: 20px;" type="text" placeholder="quntity" [value]="1" formControlName="quantity">
 
       <select style="width:130px; font-size: 20px; height: 35px; color: rgb(190, 186, 186);  border-color: rgb(190, 186, 186);" formControlName="unitOfStock"  nzPlaceHolder="Please select">
           <option value="">unit</option>
           <option *ngFor="let ingredient of measurementToolArray" [value]="ingredient">{{ ingredient }}</option>
         </select>
      
       
      
       <button style="margin-left: 8px; ; border:none; cursor: pointer; background-color: #fff;" type="button" (click)="removeIngredientBatchForAddOns(i)"><span style="font-size: 32px; padding-top: 20px; color:rgb(190, 186, 186);" nz-icon nzType="minus-circle" nzTheme="outline"></span></button>
     </div>
     <button type="button" (click)="addIngredientBatchForAddOns()" style="background-color: #2ecc71;height: 35px; margin-top: 22px; margin-left: 70px; color: #fff; font-size: 20px; border:none; cursor: pointer;">Add Ingredient</button>
   </div>
 
   <!-- Delivery Box Batches -->
 
 
   <!-- Submit Button -->
   <!-- <button type="submit">Submit</button> -->
 </div>


   <!-- <div style="margin-left: 300px;">
     <h2 style="font-size: 28px; margin-left: 70px;">Material calculator</h2>
       <div style="margin-bottom: 8px;">
           <label for="" style="width: 180px; margin-right: 39px;color: black; font-size: 20px;">Cost per unit :</label>
           <input type="text" [value]="totalCostPerUnitForAddOns" style="height: 35px; border:1px solid rgb(190, 186, 186);">
       </div>
       <!-- <div style="margin-bottom: 8px;">
           <label for="" style="width: 180px;  margin-right: 20px;color: black; font-size: 18px;">calorie Per Unit</label>
           <input type="text" [value]="totalCaloriesPerUnitForAddOns" style="height: 32px;" >
       </div> 
       <div style="margin-bottom: 8px;">
           <label for="" style="width: 180px;  margin-right: 40px;color: black; font-size: 20px;">Profit margin :</label>
           <input (input)="updateTotalsForAddOns()" type="text"  formControlName="percentageForAddOns" style="height: 35px;border:1px solid rgb(190, 186, 186);">
       </div>
       <div>
           <label for="" style="width: 180px; margin-right: 68px;color: black; font-size: 20px;">Total cost :</label>
           <input type="text" [value]="totalCostForAddOns" style="height: 35px; border:1px solid rgb(190, 186, 186);"  formControlName="price">
       </div>
      </div> -->
    </div>

 </form>




<!-- add Options -->

          
          

  </div>




  